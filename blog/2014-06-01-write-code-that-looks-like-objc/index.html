<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.78 'Merriweather','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Merriweather','Georgia',serif;font-weight:300;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:2.2974rem;line-height:2.67rem;letter-spacing:-2px;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;color:inherit;font-family:'Open Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}ul{margin-left:1.78rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.78rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;font-size:0.85rem;line-height:1.78rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;font-size:1rem;line-height:1.78rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}blockquote{margin-left:0;margin-right:1.78rem;margin-top:0;padding-bottom:0;padding-left:1.44625rem;padding-right:0;padding-top:0;margin-bottom:1.78rem;font-size:1.1487rem;line-height:1.78rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.33375rem solid hsla(0,0%,0%,0.2);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.78rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.78rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.78rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.78rem;margin-bottom:calc(1.78rem / 2);margin-top:calc(1.78rem / 2);}li > ul{margin-left:1.78rem;margin-bottom:calc(1.78rem / 2);margin-top:calc(1.78rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.78rem / 2);}code{font-size:0.85rem;line-height:1.78rem;}kbd{font-size:0.85rem;line-height:1.78rem;}samp{font-size:0.85rem;line-height:1.78rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.18667rem;padding-right:1.18667rem;padding-top:0.89rem;padding-bottom:calc(0.89rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#4b0082;text-decoration:none;}a:hover,a:active{text-decoration:underline;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.78rem;color:hsla(0,0%,0%,0.9);font-weight:300;}blockquote cite:before{content:"â€” ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.78rem;}blockquote{margin-left:-1.335rem;margin-right:0;padding-left:1.00125rem;}}@media only screen and (max-width:768px){h1{font-size:2rem;line-height:2.67rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.56rem;}</style><meta name="generator" content="Gatsby 5.14.1"/><meta name="description" content="Personal site of Andy Weiss" data-gatsby-head="true"/><meta name="image" content="https://rokob.github.io/favicon-32x32.png" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta name="twitter:title" content="rokob :: Eloquent Objective-C: Write Code That Looks Like Objective-C" data-gatsby-head="true"/><meta name="twitter:url" content="https://rokob.github.io/blog/2014-06-01-write-code-that-looks-like-objc/" data-gatsby-head="true"/><meta name="twitter:description" content="Personal site of Andy Weiss" data-gatsby-head="true"/><meta name="twitter:image" content="https://rokob.github.io/favicon-32x32.png" data-gatsby-head="true"/><meta name="twitter:creator" content="@dragonb3ar" data-gatsby-head="true"/><style data-href="/styles.f21535414e15f8faeffd.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#f8f8f2;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;text-shadow:0 1px rgba(0,0,0,.3);white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[class*=language-].line-numbers{counter-reset:linenumber;padding-left:3.8em;position:relative}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{border-right:1px solid #999;font-size:100%;left:-3.8em;letter-spacing:-1px;pointer-events:none;position:absolute;top:0;-webkit-user-select:none;user-select:none;width:3em}.line-numbers-rows>span{counter-increment:linenumber;display:block}.line-numbers-rows>span:before{color:#999;content:counter(linenumber);display:block;padding-right:.8em;text-align:right}.gatsby-highlight-code-line{background-color:#feb;border-left:.25em solid #f99;display:block;margin-left:-1em;margin-right:-1em;padding-left:.75em;padding-right:1em}.gatsby-highlight{background-color:#272822;border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}.gatsby-highlight pre[class*=language-]{background-color:transparent;float:left;margin:0;min-width:100%;overflow:initial;padding:0}.gatsby-highlight pre[class*=language-].line-numbers{padding-left:2.8em}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link href="//fonts.googleapis.com/css?family=Open+Sans:700|Merriweather:300,300i,700,700i" rel="stylesheet" type="text/css"/><title data-gatsby-head="true">rokob :: Eloquent Objective-C: Write Code That Looks Like Objective-C</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css 1snke1a">.css-1snke1a{margin:0 auto;max-width:800px;padding-bottom:3.56rem;padding-top:2.67rem;}@media only screen and (max-width: 801px){.css-1snke1a{width:93%;}}</style><div class="css-1snke1a erleo414"><a href="/"><style data-emotion="css 1w8900m">.css-1w8900m{margin-top:0;margin-bottom:1.78rem;display:inline-block;font-style:normal;}</style><h3 class="css-1w8900m erleo412">rokob</h3></a><style data-emotion="css tjo4qw">.css-tjo4qw{float:right;}</style><div class="css-tjo4qw erleo411"><style data-emotion="css 13y4rum">.css-13y4rum{padding-left:0.89rem;}</style><a class="css-13y4rum erleo410" href="/reading/">Reading</a><a class="css-13y4rum erleo410" href="/about/">About</a></div><style data-emotion="css 198bgkg">.css-198bgkg{margin-top:3.56rem;}</style><div class="css-198bgkg erleo413"><style data-emotion="css dfkuil">.css-dfkuil{margin-bottom:0.89rem;}</style><h2 class="css-dfkuil e13a1ij53">Eloquent Objective-C: Write Code That Looks Like Objective-C</h2><style data-emotion="css 1f6tha0">.css-1f6tha0{margin-top:0.89rem;margin-bottom:1.78rem;color:#bbb;}</style><h3 class="css-1f6tha0 e13a1ij52">01 Jun 2014</h3><style data-emotion="css k4kvhd">.css-k4kvhd{margin-top:3.56rem;margin-bottom:1.78rem;color:inherit;}</style><div class="css-k4kvhd e13a1ij51"><style data-emotion="css k8h3ik">.css-k8h3ik{margin-top:0.89rem;margin-bottom:0.445rem;}</style><h4 class="css-k8h3ik e13a1ij50">Category: <!-- -->code</h4><h4 class="css-k8h3ik e13a1ij50"><a href="/tags/">Tags:</a> <a href="/tags/code/">code</a>, <a href="/tags/objc/">objc</a>, <a href="/tags/eloquent/">eloquent</a></h4></div><style data-emotion="css 1aujq9w">.css-1aujq9w{text-align:justify;}</style><div class="css-1aujq9w e13a1ij54"><p>When I look at someone's code, I immediately make a value judgment about the likelihood
that their code will work and that the person knows what they are doing based on the
style of the their code. Basically, if the code matches my expectations for the language
and it is clear then I have a feeling that this person is probably legit. I know this is
not a great thing to do for some reasons, mostly that this should not be a sign of positive
quality but more a negative signal when the code is missing some of the qualities that
one expects. This is a similar filter to FizzBuzz. Most people who write code have no idea
what they are doing, they don't understand code design or architecture,
they have terrible naming and syntax usage, and they typically cannot solve the most basic
problems. Poor style is a strong indicator of a lack of skills in the same way as struggling
to complete FizzBuzz. This post is about what Objective-C is supposed to look like and why.</p>
<h2>Know the Style Guidelines</h2>
<p>The most important set of guidelines for Objective-C that the community has accepted are
those handed down <a href="https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CodingGuidelines/CodingGuidelines.html">from above</a>. You should read through all of these guidelines
at least once, if not multiple times as you encounter questions during development.
The set of things covered include:</p>
<ul>
<li>Code Naming Basics</li>
<li>Naming Methods</li>
<li>Naming Functions</li>
<li>Naming Properties and Data Types</li>
<li>Acceptable Abbreviations and Acronyms</li>
</ul>
<p>For instance, these guides settle the debate that every language has to undergo about whether
it uses snake_case or camelCase. Objective-C has chosen the camel. Don't fight it, consistent
naming is incredibly important for writing code that is maintainable. The rest of the advice
in the guides is pretty straightforward and you should try to follow it as closely as possible.</p>
<p>There are however, some things that most people in the community have settled on that are
either not directly stated in the style guide, or which are actually contradictory. One example
stems from the following Apple guideline:</p>
<blockquote>
<p>Names of most private methods in the Cocoa frameworks have an underscore prefix (for example, _fooData ) to mark them as private. From this fact follow two recommendations.</p>
<ul>
<li>
<p>Don't use the underscore character as a prefix for your private methods. Apple reserves this convention.</p>
</li>
<li>
<p>If you are subclassing a large Cocoa framework class (such as NSView or UIView) and you want to be absolutely sure</p>
</li>
</ul>
<p>that your private methods have names different from those in the superclass, you can add your own prefix to your
private methods. The prefix should be as unique as possible, perhaps one based on your company or project and
of the form "XX_". So if your project is called Byte Flogger, the prefix might be BF_addObject:</p>
</blockquote>
<p>At Facebook, pretty much everyone used <code class="language-text">_foo:</code> as the style for a private method. Some care
may have been taken by the more conscientious of the bunch when subclassing a system class to use
a different convention to avoid accidentally overriding a private method of a superclass. Part of this stems
from the lack of real encapsulation in Objective-C even though it makes you feel like it is there. Because of
the way method resolution works in the inheritance hierarchy, there is no such thing as a truly private
method. Some people choose to just name things differently inside the implementation and then hope no
one sends that message which is not declared in the interface. Others choose to use categories such as
<code class="language-text">MyClass (Private)</code> to define private methods which are less than private for some other use cases, testing
being a common one. Others use a class extension to declare their private methods. This can be useful to see
them all in one place and to possibly have a better place for documentation. Some people go so far as to
use static C functions declared in the implementation file. This gives you probably the closest thing
to a real private "method", but it does not seem to be common practice in the community at large.
The modern LLVM compiler does not require you to explicitly declare methods within an implementation
in order to call them, so frequently you will just not see a declaration separately from the definition.</p>
<p>I have settled on a mix of static C functions, methods defined in an "Internal" header, and
then just properly named methods without a leading underscore which are just not declared anywhere
outside of the implementation. Each of these have different use cases. I rarely define many methods in subclasses
of system classes, so I rarely worry about name conflicts, plus the implementation looks much cleaner without
all those underscore prefixed methods floating around. I use the interface as the source of truth for what
is public so I don't really need the distinction within the implementation. Do use <code class="language-text">pragmas</code> to separate
sections of your implementations so that you can have one clear "Public API" section</p>
<p>My use of static C functions is confined to pure functions which do not require <code class="language-text">self</code>, for example</p>
<div class="gatsby-highlight" data-language="objc"><pre class="language-objc"><code class="language-objc"><span class="token keyword">static</span> NSArray<span class="token operator">*</span> <span class="token function">filterArrayWithBlock</span><span class="token punctuation">(</span>NSArray <span class="token operator">*</span>input<span class="token punctuation">,</span> <span class="token function">BOOL</span><span class="token punctuation">(</span><span class="token operator">^</span>predicate<span class="token punctuation">)</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>predicate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> input<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  NSMutableArray <span class="token operator">*</span>result <span class="token operator">=</span> <span class="token punctuation">[</span>NSMutableArray arrayWithCapacity<span class="token punctuation">:</span><span class="token punctuation">[</span>input count<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">[</span>input enumerateObjectsUsingBlock<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>id obj<span class="token punctuation">,</span> NSUInteger idx<span class="token punctuation">,</span> BOOL <span class="token operator">*</span>stop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">predicate</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">[</span>result addObject<span class="token punctuation">:</span>obj<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>result copy<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>This is just a toy function that would probably be better suited as a member of a category on <code class="language-text">NSArray</code>
which adds functional programming primitives like <code class="language-text">map</code>, <code class="language-text">reduce</code>, <code class="language-text">filter</code>, etc. But you can declare
pure functions like this within your implementation file, and then call it possibly passing in
instance variables as arguments. There is no way that a subclass can override this behaviour, plus you trivially
can guarantee that you are not modifying the state of your object because the C function only has access
to it's inputs, and you never should make <code class="language-text">self</code> one of those inputs.</p>
<p>I use methods in an "Internal" header to expose some things for tests. This is usually a smell I know,
but sometimes it is the only bridge between tested and untested code before you go through a big refactor.
I see this often with async interfaces that need to expose some synchronization to make
tests reliable.</p>
<br />
<h2>Dots and Brackets</h2>
<p>If you are coming from Lisp then all the brackets everywhere should not make you too anxious, otherwise
you probably were a bit thrown off initially about all the brackets. The dot syntax is used in a variety of
other languages so it might innately feel like the right thing to use in many cases. Like all other parts
of this post, consistency within a codebase is more important than your preferences, so even if you disagree
with a certain use in a particular project, I suggest you be flexible rather than be "that guy". Nonetheless,
there is a correct style to use here. The dot syntax should only be used for simple property getter/setters,
and typically this usually means only outside of an implementation because you should be using instance
variables directly inside an implementation (the one exception being to remain KVO compliant, however since you
should never use KVO this is moot). The bracket syntax should be used for everything else. The only alternative
style is to never use the dot syntax and use brackets everywhere. So, using the dot syntax to
call a method is a bad thing.</p>
<div class="incorrect">
```objc
@interface SomeClass : NSObject
@property (nonatomic, readwrite, copy) NSString *string;
- (void)doIt;
@end
<p>// Somewhere else
SomeClass *someClass = SomeClass.alloc.init;
someClass.doIt;</p>
<p>// The next line is okay in isolation
[someClass setString:@"Nope"];
// but mixing the method call setter with the dot getter is inconsistent
NSLog(@"%@", someClass.string);</p>
<p>// WTF?
UIColor *myColor = UIColor.blackColor;</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">&lt;/div>

&lt;div class="correct">
```objc
@interface SomeClass : NSObject
@property (nonatomic, readwrite, copy) NSString *string;
- (void)doIt;
@end

// Somewhere else
SomeClass *someClass = [[SomeClass alloc] init];

someClass.string = @"Yeah";
NSLog(@"%@", someClass.string);

[someClass doIt];</code></pre></div>
</div>
<h2>Embrace Selector Keywords and Verbosity</h2>
<p>Objective-C is a verbose language, method calls can easily take up a lot of editor columns:</p>
<div class="gatsby-highlight" data-language="objc"><pre class="language-objc"><code class="language-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>sendAction<span class="token punctuation">:</span><span class="token punctuation">(</span>SEL<span class="token punctuation">)</span>aSelector toObject<span class="token punctuation">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>anObject forAllCells<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>flag<span class="token punctuation">;</span></code></pre></div>
<p>that is not a bad thing if you use it to your advantage. The parts of a selector
that describe the argument is known as a keyword (this terminology comes from Smalltalk).
In many other languages, keyword arguments are the exception not the rule. Have you ever
seen a function call in C that looks like this:</p>
<div class="gatsby-highlight" data-language="c"><pre class="language-c"><code class="language-c"><span class="token function">sendMessage</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> false<span class="token punctuation">,</span> false<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Sometimes people will throw in comments everywhere they call a function like this to explain
what those random <code class="language-text">false</code> arguments mean. This is terrible. This is partly just a product of
poor design, but in Objective-C you are forced to make it look like:</p>
<div class="gatsby-highlight" data-language="objc"><pre class="language-objc"><code class="language-objc"><span class="token punctuation">[</span>obj sendMessageWithIndex<span class="token punctuation">:</span><span class="token number">0</span> shouldReply<span class="token punctuation">:</span>NO isHappy<span class="token punctuation">:</span>YES callback<span class="token punctuation">:</span><span class="token constant">NULL</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></div>
<h2>Do Not Use "new"</h2>
<p>Use <code class="language-text">[[SomeClass alloc] init]</code> instead of <code class="language-text">[SomeClass new]</code>. Why? It is idiomatic Objective-C,
and you can't extend <code class="language-text">new</code> to do more for you like <code class="language-text">initWithStuff:</code>.</p>
<h2>Use Pragmas Liberally</h2>
<p>There is a preprocessor directive called "pragma" which Xcode picks up to define sections
in the code navigator. The style is to use <code class="language-text">#pragma</code> followed by the word <code class="language-text">mark</code> and then
some text. You can place a single dash to create a horizontal rule in the code navigator.
If you put some text then it will show up as a bold header. It helps you to separate your methods
in to useful sections without adding a bunch of comments, and it nicely gets picked up by
Xcode.</p>
<div class="gatsby-highlight" data-language="objc"><pre class="language-objc"><code class="language-objc"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">mark <span class="token operator">-</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">mark NSObject</span></span>

<span class="token operator">-</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span>initWith<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">mark <span class="token operator">-</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">mark UIAlertViewDelegate</span></span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></div>
<h2>What Others Have To Say</h2>
<p>If you Google for Objective-C style guides, you will find quite a lot of people have opinions. Most of
them are consistent with one another, and focus on syntax (i.e. how many spaces, tabs vs spaces, dots vs brackets), and spend
less time on semantics. All of the style guides that come out of Google for various languages are top notch,
and the <a href="http://google-styleguide.googlecode.com/svn/trunk/objcguide.xml">Objective-C one</a> does not disappoint. Two other good ones come from the <a href="https://github.com/NYTimes/objective-c-style-guide">NY Times</a>
and <a href="https://github.com/github/objective-c-conventions">Github</a>. The most important bit of style advice is to choose something and be consistent
within a project. However, if you are stepping into someone else's codebase, adapt to how they do things,
don't waste your time arguing the merits of the style you used at your last job. The only caveat to this is
if there is clearly no consistent style, then work to get one enforced and the code converted as quickly
as possible. I have my own style that I use on personal projects, which differed from the style at Facebook,
but I always just kept the two separate. I think it is good to expose yourself to multiple styles because
you can pick up the little bits that work better from each and merge them into something better.</p>
<h2>And then Swift happened</h2>
<p>So I was watching the WWDC keynote this morning and Apple announced a new langauge, Swift. This will be the
language for iOS and Mac development for the forseeable future. So all this talk about how to write
Objective-C is going down the drain. So although there is a right way to write Objective-C, it doesn't
matter much anymore. I'll have to start working on "Eloquent Swift"...</p></div><div><a href="https://github.com/rokob/rokob.github.com/commits/source/content/2014-06-01-write-code-that-looks-like-objc.md">History</a> -- <a href="https://github.com/rokob/rokob.github.com/commit/9a9b8cc9a846a5ab6c26cb187880f3092ad02345">9a9b8cc9</a></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/2014-06-01-write-code-that-looks-like-objc/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-74d18815dd077486fe4c.js\"],\"component---src-pages-about-js\":[\"/component---src-pages-about-js-12d390c00676b5f95045.js\"],\"component---src-pages-index-js\":[\"/component---src-pages-index-js-71025402633be68d9d62.js\"],\"component---src-pages-reading-js\":[\"/component---src-pages-reading-js-cd120a53bb526792f88c.js\"],\"component---src-pages-tags-js\":[\"/component---src-pages-tags-js-551bcba74b82c97580b2.js\"],\"component---src-templates-blog-list-js\":[\"/component---src-templates-blog-list-js-4922d9da0b6024e3d157.js\"],\"component---src-templates-blog-post-js\":[\"/component---src-templates-blog-post-js-24e2de5845dfd5db0fc0.js\"],\"component---src-templates-tag-js\":[\"/component---src-templates-tag-js-195017f3819c4f1a843c.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="28e259d4c394b6f54b8e";</script><script src="/webpack-runtime-6f516ec0fd1bbce05065.js" async></script><script src="/framework-b0d0d270dbf692bac4b7.js" async></script><script src="/app-74d18815dd077486fe4c.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>